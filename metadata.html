<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Metadata – Lake Rotorua Data Product</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./assets/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-3852686457d7ba8fe1ee09589188f919.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Lake Rotorua Data Product</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./rotorua-qc-summary.html"> 
<span class="menu-text">Data Summary</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./metadata.html" aria-current="page"> 
<span class="menu-text">Metadata</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data-qc.html"> 
<span class="menu-text">QA/QC</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./LICENSE.md"> 
<span class="menu-text">License</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#load-libraries" id="toc-load-libraries" class="nav-link active" data-scroll-target="#load-libraries">Load libraries</a></li>
  <li><a href="#download-data-from-github" id="toc-download-data-from-github" class="nav-link" data-scroll-target="#download-data-from-github"><span class="header-section-number">1</span> Download data from GitHub</a></li>
  <li><a href="#files" id="toc-files" class="nav-link" data-scroll-target="#files"><span class="header-section-number">2</span> Files</a>
  <ul class="collapse">
  <li><a href="#device-position" id="toc-device-position" class="nav-link" data-scroll-target="#device-position"><span class="header-section-number">2.1</span> Device position</a></li>
  <li><a href="#device-variable" id="toc-device-variable" class="nav-link" data-scroll-target="#device-variable"><span class="header-section-number">2.2</span> Device variable</a></li>
  <li><a href="#quality-control-filters" id="toc-quality-control-filters" class="nav-link" data-scroll-target="#quality-control-filters"><span class="header-section-number">2.3</span> Quality control filters</a></li>
  <li><a href="#quality-controlled-data" id="toc-quality-controlled-data" class="nav-link" data-scroll-target="#quality-controlled-data"><span class="header-section-number">2.4</span> Quality controlled data</a></li>
  <li><a href="#sensor-calibrations" id="toc-sensor-calibrations" class="nav-link" data-scroll-target="#sensor-calibrations"><span class="header-section-number">2.5</span> Sensor calibrations</a></li>
  <li><a href="#sensor-reference" id="toc-sensor-reference" class="nav-link" data-scroll-target="#sensor-reference"><span class="header-section-number">2.6</span> Sensor reference</a></li>
  <li><a href="#sensor-scaling" id="toc-sensor-scaling" class="nav-link" data-scroll-target="#sensor-scaling"><span class="header-section-number">2.7</span> Sensor scaling</a></li>
  <li><a href="#site-devices" id="toc-site-devices" class="nav-link" data-scroll-target="#site-devices"><span class="header-section-number">2.8</span> Site devices</a></li>
  <li><a href="#site-events" id="toc-site-events" class="nav-link" data-scroll-target="#site-events"><span class="header-section-number">2.9</span> Site events</a></li>
  <li><a href="#sites" id="toc-sites" class="nav-link" data-scroll-target="#sites"><span class="header-section-number">2.10</span> Sites</a></li>
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables"><span class="header-section-number">2.11</span> Variables</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Metadata</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>The metadata for the Rotorua project is within the <code>rotorua_data_qc.zip</code> folder. This folder contains the metadata for the project, including the device position, device variable, quality control filters, sensor calibrations, sensor reference, sensor scaling, site devices, site events, sites and variables.</p>
<p>In this document, we will describe the contents of each file in the <code>rotorua_data_qc.zip</code> folder. The files are in CSV format.</p>
<section id="load-libraries" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="load-libraries">Load libraries</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Set timezone to NZST</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>withr<span class="sc">::</span><span class="fu">local_locale</span>(<span class="fu">c</span>(<span class="st">"LC_TIME"</span> <span class="ot">=</span> <span class="st">"C"</span>))</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>withr<span class="sc">::</span><span class="fu">local_timezone</span>(<span class="st">"Etc/GMT-12"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="download-data-from-github" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Download data from GitHub</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>piggyback<span class="sc">::</span><span class="fu">pb_download</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"rotorua_data_qc.zip"</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">dest =</span> <span class="st">"."</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">repo =</span> <span class="st">"limnotrack/f_rotorua"</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">tag =</span> <span class="st">"v0.0.1"</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Unzip the file</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="st">"rotorua_data_qc.zip"</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(<span class="st">"rotorua_data_qc"</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "device_position.csv"     "device_variable.csv"    
 [3] "qc_filters.csv"          "README.txt"             
 [5] "rotorua_qc.csv"          "sensor_calibrations.csv"
 [7] "sensor_reference.csv"    "sensor_scaling.csv"     
 [9] "site_devices.csv"        "site_events.csv"        
[11] "sites.csv"               "variables.csv"          </code></pre>
</div>
</div>
</section>
<section id="files" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Files</h1>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-f4326c4711c1caa31bee" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f4326c4711c1caa31bee">{"x":{"filter":"none","vertical":false,"data":[["device_position.csv","device_variable.csv","qc_filters.csv","README.txt","rotorua_qc.csv","sensor_calibrations.csv","sensor_reference.csv","sensor_scaling.csv","site_devices.csv","site_events.csv","sites.csv","variables.csv"],["Device position","Mapping of variables onto devices","Quality control filters",null,"Quality controlled data","Sensor calibrations","Sensor reference measurements","Sensor scaling relationships","Mapping of devices to sites","Site events","Site metadata","Variable description"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>File<\/th>\n      <th>Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":15,"dom":"t","columnDefs":[{"name":"File","targets":0},{"name":"Description","targets":1}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,15,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="device-position" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="device-position"><span class="header-section-number">2.1</span> Device position</h2>
<p>The device position is stored in a CSV file. The file contains the following columns:</p>
<ul>
<li><p><code>device_id</code>: The unique identifier for the device.</p></li>
<li><p><code>reference</code>: The location of the device. This can be depth (“d”), height (“h”) or elevation (“e”).</p></li>
<li><p><code>z_relative</code>: The relative position of the device in meters. This is the distance from the reference point to the device.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>device_position <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"rotorua_data_qc/device_position.csv"</span>, <span class="at">col_types =</span> <span class="fu">cols</span>())</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>device_position</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-device-position" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-device-position-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Device position and relative distance.
</figcaption>
<div aria-describedby="tbl-device-position-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7f53061f94a9cb67b476" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7f53061f94a9cb67b476">{"x":{"filter":"none","vertical":false,"data":[["f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua"],["sns_Ap_templine_9999","sns_Ap_templine_9999","sns_Ap_templine_9999","sns_Ap_templine_9999","sns_Ap_templine_9999","sns_Ap_templine_9999","sns_Ap_templine_9999","sns_Ap_templine_9999","sns_Ap_templine_9999","sns_Ap_templine_9999","sns_Ap_templine_9999","sns_St_tstringds_017","sns_St_tstringds_017","sns_St_tstringds_017","sns_St_tstringds_017","sns_St_tstringds_017","sns_St_tstringds_017","sns_St_tstringds_017","sns_St_tstringds_017","sns_St_tstringds_017","sns_St_tstringds_017","sns_St_tstringds_017","sns_IS_rdopro_379253","sns_ZT_dopto_2378","sns_ZT_dopto_2338","sns_ZT_dopto_9999-rua1","sns_CS_isfet_9999-rua","sns_Vs_wxt510_9999-rua1","sns_Vs_wxt510_9999-rua2","sns_Vs_wxt520_9999-rua","sns_Sp_chlor_9999-rua","sns_Sp_chlor_2779","sns_TD_c7c_2103928","sns_Tr_microp_1035","sns_Tr_microp_104D","sns_TD_c7p_2103927"],["d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","d","h","h","h","d","d","d","d","d","d"],[0.5,2.5,4.5,6.5,8.5,10.5,12.5,14.5,16.5,18.5,20.5,0.5,2.5,4.5,6.5,8.5,10.5,12.5,14.5,16.5,18.5,20.5,1,1,20,20,1,1.5,1.5,1.5,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>site<\/th>\n      <th>device_id<\/th>\n      <th>reference<\/th>\n      <th>z_relative<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthMenu":[5,10,20],"scrollX":true,"dom":"t","columnDefs":[{"className":"dt-right","targets":3},{"name":"site","targets":0},{"name":"device_id","targets":1},{"name":"reference","targets":2},{"name":"z_relative","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="device-variable" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="device-variable"><span class="header-section-number">2.2</span> Device variable</h2>
<p>The device variable is stored in a CSV file. The file contains the following columns:</p>
<ul>
<li><p><code>device_id</code>: The unique identifier for the device.</p></li>
<li><p><code>var_abbr</code>: The variable abbreviation. This is the short name for the variable.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>device_variable <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"rotorua_data_qc/device_variable.csv"</span>, <span class="at">col_types =</span> <span class="fu">cols</span>())</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>device_variable</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-device-variable" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-device-variable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Device variable mapping.
</figcaption>
<div aria-describedby="tbl-device-variable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-fda20707acf431b2ecd3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-fda20707acf431b2ecd3">{"x":{"filter":"none","vertical":false,"data":[["sns_Tr_microp_1035","sns_Ap_templine_9999","sns_St_tstringds_017","sns_IS_rdopro_379253","sns_IS_rdopro_379253","sns_IS_rdopro_379253","sns_ZT_dopto_2378","sns_ZT_dopto_2378","sns_ZT_dopto_2378","sns_ZT_dopto_2338","sns_ZT_dopto_2338","sns_ZT_dopto_2338","sns_ZT_dopto_9999-rua1","sns_ZT_dopto_9999-rua1","sns_ZT_dopto_9999-rua1","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_Vs_wxt510_9999-rua1","sns_Vs_wxt510_9999-rua1","sns_Vs_wxt510_9999-rua1","sns_Vs_wxt510_9999-rua1","sns_Vs_wxt510_9999-rua1","sns_Vs_wxt510_9999-rua1","sns_Vs_wxt510_9999-rua2","sns_Vs_wxt510_9999-rua2","sns_Vs_wxt510_9999-rua2","sns_Vs_wxt510_9999-rua2","sns_Vs_wxt510_9999-rua2","sns_Vs_wxt510_9999-rua2","sns_Vs_wxt520_9999-rua","sns_Vs_wxt520_9999-rua","sns_Vs_wxt520_9999-rua","sns_Vs_wxt520_9999-rua","sns_Vs_wxt520_9999-rua","sns_Vs_wxt520_9999-rua","sns_Sp_chlor_2779","sns_Sp_chlor_9999-rua","sns_TD_c7c_2103928","sns_Tr_microp_104D","sns_TD_c7p_2103927"],["f_phyc","t_wtr","t_wtr","t_wtr","c_do_sat","c_do","t_wtr","c_do_sat","c_do","t_wtr","c_do_sat","c_do","t_wtr","c_do_sat","c_do","c_ph","c_ph_raw","t_air","pr_baro","h_rh","w_spd","w_dir","pp_rain","t_air","pr_baro","h_rh","w_spd","w_dir","pp_rain","t_air","pr_baro","h_rh","w_spd","w_dir","pp_rain","f_chl","f_chl","f_chl","f_phyc","f_phyc"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>device_id<\/th>\n      <th>var_abbr<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthMenu":[5,10,20],"scrollX":true,"dom":"t","columnDefs":[{"name":"device_id","targets":0},{"name":"var_abbr","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="quality-control-filters" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="quality-control-filters"><span class="header-section-number">2.3</span> Quality control filters</h2>
<p>The quality control filters are stored in a CSV file. The file contains the following columns:</p>
<ul>
<li><p><code>var_abbr</code>: The variable abbreviation. This is the short name for the variable.</p></li>
<li><p><code>low</code>: The lower limit for the variable. This is the minimum value for the variable.</p></li>
<li><p><code>high</code>: The upper limit for the variable. This is the maximum value for the variable.</p></li>
<li><p><code>roc</code>: The rate of change for the variable. This is the maximum rate of change for the variable.</p></li>
<li><p><code>consec</code>: The consecutive number of points for the variable. This is the minimum number of consecutive points for the variable.</p></li>
<li><p><code>interp</code>: The interpolation for the variable. This is the maximum number of points for the variable.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>qc_filters <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"rotorua_data_qc/qc_filters.csv"</span>, <span class="at">col_types =</span> <span class="fu">cols</span>())</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>qc_filters </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-qc-filters" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-qc-filters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Quality control filters.
</figcaption>
<div aria-describedby="tbl-qc-filters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-0a81263879b6e610b5de" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0a81263879b6e610b5de">{"x":{"filter":"none","vertical":false,"data":[["r_swd","t_air","h_rh","pr_baro","w_dir","w_spd","w_gust","pp_rain","pr_dpt","t_wtr","c_do_sat","c_do","c_ph","c_ph_raw","c_cond","c_spcond","c_orp","n_turb","f_chl","f_phyc","TmpDif","PCchla","LvlWtr","VBatLg","MtrAvg","MtrMin","MtrMax"],[0,-10,25,900,0,0.001,0.001,0,0.5,4,-10,-1,3,0,10,10,-1000,0.001,0.001,0.001,-2,-10,0,5,-2.95,-2.95,-2.95],[1500,45,100,1100,360,50,80,300,150,35,300,35,14,1100,1400,1400,1000,150,500,450,20,10,1000,15,1.95,1.95,1.95],[1500,5,20,20,360,25,40,200,150,10,80,8,10,200,100,100,200,50,40,38,100,100,0.5,5,4,4,4],[180,20,20,50,10,10,10,999999,999999,50,50,50,50,50,50,50,50,50,50,50,50,50,500,50,50,50,50],[24,24,24,24,1,1,1,0,999999,1,1,1,1,1,1,1,1,1,1,1,1,1,24,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>var_abbr<\/th>\n      <th>low<\/th>\n      <th>high<\/th>\n      <th>roc<\/th>\n      <th>consec<\/th>\n      <th>interp<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthMenu":[5,10,20],"scrollX":true,"dom":"t","columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5]},{"name":"var_abbr","targets":0},{"name":"low","targets":1},{"name":"high","targets":2},{"name":"roc","targets":3},{"name":"consec","targets":4},{"name":"interp","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="quality-controlled-data" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="quality-controlled-data"><span class="header-section-number">2.4</span> Quality controlled data</h2>
<p>This is the finished quality controlled data. There is a summary of this data on the <a href="rotorua-qc-summary.html">Quality control page</a>.</p>
</section>
<section id="sensor-calibrations" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="sensor-calibrations"><span class="header-section-number">2.5</span> Sensor calibrations</h2>
<p>The sensor calibrations are stored in a CSV file. The file contains the following columns: - <code>device_id</code>: The unique identifier for the device. - <code>date</code>: The date of the calibration. - <code>site</code>: The site of the calibration. - <code>variable</code>: The variable of the calibration. - <code>temperature</code>: The temperature of the calibration. - <code>type</code>: The type of calibration. - <code>comment</code>: The comment for the calibration.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>sensor_calibrations <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"rotorua_data_qc/sensor_calibrations.csv"</span>, <span class="at">col_types =</span> <span class="fu">cols</span>())</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>sensor_calibrations</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-sensor-calibrations" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-sensor-calibrations-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: Sensor calibrations.
</figcaption>
<div aria-describedby="tbl-sensor-calibrations-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a3f37b537999982fd2ad" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a3f37b537999982fd2ad">{"x":{"filter":"none","vertical":false,"data":[["sns_ZT_dopto_2378","sns_ZT_dopto_2338"],["2008-01-17T10:00:00Z","2008-01-17T10:00:00Z"],["f_Rotorua","f_Rotorua"],["c_dosat, c_do","c_dosat, c_do"],[null,null],[null,null],[null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>device_id<\/th>\n      <th>date<\/th>\n      <th>site<\/th>\n      <th>variable<\/th>\n      <th>temperature<\/th>\n      <th>type<\/th>\n      <th>comment<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthMenu":[5,10,20],"scrollX":true,"columnDefs":[{"name":"device_id","targets":0},{"name":"date","targets":1},{"name":"site","targets":2},{"name":"variable","targets":3},{"name":"temperature","targets":4},{"name":"type","targets":5},{"name":"comment","targets":6}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="sensor-reference" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="sensor-reference"><span class="header-section-number">2.6</span> Sensor reference</h2>
<p>The sensor reference is stored in a CSV file. The file contains the following columns:</p>
<ul>
<li><p><code>device_id</code>: The unique identifier for the device.</p></li>
<li><p><code>date</code>: The date of the reference measurement.</p></li>
<li><p><code>reference_type</code>: The type of reference measurement.</p></li>
<li><p><code>value_actual</code>: The actual value of the reference measurement.</p></li>
<li><p><code>units_value</code>: The units of the actual value.</p></li>
<li><p><code>value_measured</code>: The measured value of the reference measurement.</p></li>
<li><p><code>units_sensor</code>: The units of the measured value.</p></li>
<li><p><code>temperature</code>: The temperature of the reference measurement.</p></li>
<li><p><code>comment</code>: The comment for the reference measurement.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>sensor_reference <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"rotorua_data_qc/sensor_reference.csv"</span>, <span class="at">col_types =</span> <span class="fu">cols</span>())</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>sensor_reference</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-sensor-reference" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-sensor-reference-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;5: Sensor reference measurements.
</figcaption>
<div aria-describedby="tbl-sensor-reference-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e630e2e4a98e970844ea" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e630e2e4a98e970844ea">{"x":{"filter":"none","vertical":false,"data":[["sns_Tr_microp_1035","sns_ZT_dopto_2338","sns_ZT_dopto_2338","sns_ZT_dopto_2338","sns_ZT_dopto_2338","sns_ZT_dopto_2338","sns_ZT_dopto_2338","sns_ZT_dopto_2338","sns_ZT_dopto_2338","sns_ZT_dopto_2338","sns_ZT_dopto_2338","sns_ZT_dopto_2378","sns_ZT_dopto_2378","sns_ZT_dopto_2378","sns_ZT_dopto_2378","sns_ZT_dopto_2378","sns_ZT_dopto_2378","sns_IS_rdopro_379253","sns_IS_rdopro_379253","sns_Sp_chlor_2779","sns_TD_c7c_2103928","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua"],["2013-06-27T00:00:00Z","2009-05-07T00:00:00Z","2009-05-07T00:00:00Z","2009-05-07T00:00:00Z","2011-05-09T00:00:00Z","2011-05-09T00:00:00Z","2013-01-10T00:00:00Z","2013-01-10T00:00:00Z","2015-01-23T00:00:00Z","2017-07-23T00:00:00Z","2017-07-23T00:00:00Z","2009-05-07T00:00:00Z","2009-05-07T00:00:00Z","2009-05-07T00:00:00Z","2011-05-09T00:00:00Z","2011-05-09T00:00:00Z","2013-01-10T00:00:00Z","2017-07-23T00:00:00Z","2017-07-23T00:00:00Z","2011-05-06T00:00:00Z","2017-07-23T00:00:00Z","2011-05-06T00:00:00Z","2011-05-09T00:00:00Z","2011-05-09T00:00:00Z","2014-04-24T00:00:00Z","2014-04-24T00:00:00Z","2014-04-24T00:00:00Z","2014-04-24T00:00:00Z","2014-04-24T00:00:00Z","2014-04-24T00:00:00Z","2015-01-19T00:00:00Z","2015-01-19T00:00:00Z","2015-01-19T00:00:00Z","2015-09-08T00:00:00Z","2015-09-08T00:00:00Z","2015-09-08T00:00:00Z","2015-09-08T00:00:00Z","2015-09-08T00:00:00Z","2015-09-08T00:00:00Z","2016-01-20T00:00:00Z","2016-01-20T00:00:00Z","2016-05-10T00:00:00Z","2016-05-10T00:00:00Z","2017-04-24T00:00:00Z","2017-04-24T00:00:00Z","2017-04-24T00:00:00Z","2017-07-13T00:00:00Z","2017-07-13T00:00:00Z","2017-07-13T00:00:00Z"],["rhodamine","aerated water","aerated water","sodium sulfite","aerated water","sodium sulfite","aerated water","sodium sulfite","sodium sulfite","aerated water","sodium sulfite","aerated water","aerated water","sodium sulfite","aerated water","sodium sulfite","aerated water","aerated water","sodium sulfite","rhodamine","std_TD_secstdc_10","rhodamine","tap water","rhodamine","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer","buffer"],[1,96.53,96.53,0,96.56,0,96.73,null,0,98.70999999999999,0,96.53,96.53,0,96.56,0,96.73,98.70999999999999,0,100,null,100,0,200,4,7,10,4,7,10,4,7,10,4,7,10,4,7,10,7,9,7,10,4,7,9.18,4,7,10],["ppm","%","%","%","%","%","%","%","%","%","%","%","%","%","%","%","%","%","%","ppb",null,"ug/L","RFU","ug/L","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH","pH"],[31.5,94,95.09999999999999,0.82,98.5,1.85,109,3.7,9.4,91.65000000000001,3.95,112.8,110.2,6.6,101.4,2.01,97,95.56,-0.14,0.8,20.2,8.5,9.630000000000001,20.93,490,647,792,6.68,10.22,13.49,575,715,848,4.3,7.86,10.78,590,752,886,708,797,810,940,628,784,864,708,867,-999],["RFU","%","%","%","%","%","%","%","%","%","%","%","%","%","%","%","%","%","%","RFU","RFU","RFU","RFU","RFU","counts","counts","counts","pH","pH","pH","counts","counts","counts","pH","pH","pH","counts","counts","counts","counts","counts","counts","counts","counts","counts","counts","counts","counts","counts"],["-",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"-",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,"Pre-cleaning (minimal fouling)","Post-cleaning (minimal fouling)","Post-cleaning",null,null,"280 masl",null,"No 100% cal taken?","1006 hPa",null,"Pre-cleaning (sensor was fouled)","Post-cleaning (sensor was fouled)","Post-cleaning",null,null,"280 masl; no 0-point recorded.. Unsuer if calibration was applied?","REFERENCE ONLY! No calibration applied! 1006 hPa","REFERENCE ONLY! No calibration applied!","0-50, mult = 10, value seems too low?","Probably 0-50, mult = 10, assume secstd #10 NOT #100","0-100 range, mult = 20",null,null,"Back-calculated from pH readings","Back-calculated from pH readings","Back-calculated from pH readings",null,null,null,"Date could be incorrect; taken from last modofied of file @ 11:40pm??","Date could be incorrect; taken from last modofied of file @ 11:40pm??","Date could be incorrect; taken from last modofied of file @ 11:40pm??",null,null,null,null,null,null,null,null,null,"counts off scale at this pH.. Sensor is spent",null,null,null,null,null,"counts off scale at this pH.. Sensor is spent"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>device_id<\/th>\n      <th>date<\/th>\n      <th>reference_type<\/th>\n      <th>value_actual<\/th>\n      <th>units_value<\/th>\n      <th>value_measured<\/th>\n      <th>units_sensor<\/th>\n      <th>temperature<\/th>\n      <th>comment<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthMenu":[5,10,20],"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[3,5]},{"name":"device_id","targets":0},{"name":"date","targets":1},{"name":"reference_type","targets":2},{"name":"value_actual","targets":3},{"name":"units_value","targets":4},{"name":"value_measured","targets":5},{"name":"units_sensor","targets":6},{"name":"temperature","targets":7},{"name":"comment","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="sensor-scaling" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="sensor-scaling"><span class="header-section-number">2.7</span> Sensor scaling</h2>
<p>The sensor scaling is stored in a CSV file. The file contains the following columns:</p>
<ul>
<li><p><code>device_id</code>: The unique identifier for the device.</p></li>
<li><p><code>date</code>: The date of the scaling.</p></li>
<li><p><code>offset</code>: The offset for the scaling.</p></li>
<li><p><code>multiplier</code>: The multiplier for the scaling.</p></li>
<li><p><code>range</code>: The range for the scaling.</p></li>
<li><p><code>log_multiplier</code>: The logger multiplier for the scaling.</p></li>
<li><p><code>source</code>: The source of the scaling factors.</p></li>
<li><p><code>comment</code>: The comment for the scaling.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sensor_scaling <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"rotorua_data_qc/sensor_scaling.csv"</span>, <span class="at">col_types =</span> <span class="fu">cols</span>())</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>sensor_scaling</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-sensor-scaling" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-sensor-scaling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;6: Sensor scaling relationships.
</figcaption>
<div aria-describedby="tbl-sensor-scaling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-c4b2afbea06510e8c4a8" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c4b2afbea06510e8c4a8">{"x":{"filter":"none","vertical":false,"data":[["sns_Tr_microp_1035","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_CS_isfet_9999-rua","sns_Sp_chlor_2779","sns_Sp_chlor_2779","sns_Sp_chlor_2779","sns_Sp_chlor_2779","sns_Sp_chlor_2779","sns_Sp_chlor_2779","sns_Sp_chlor_2779","sns_Sp_chlor_9999-rua","sns_Sp_chlor_2779","sns_Sp_chlor_2779","sns_Sp_chlor_2779","sns_Sp_chlor_2779","sns_Sp_chlor_2779","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_Tr_microp_1035","sns_Tr_microp_104D","sns_TD_c7p_2103927","sns_TD_c7p_2103927"],["2013-06-27T00:00:00Z","2014-12-19T00:00:00Z","2016-01-20T00:00:00Z","2017-06-19T00:00:00Z","2014-02-20T00:00:00Z","2014-04-23T00:00:00Z","2014-04-24T00:00:00Z","2015-01-30T00:00:00Z","2015-12-18T00:00:00Z","2008-11-20T00:00:00Z","2009-05-11T00:00:00Z","2010-01-26T00:00:00Z","2010-03-03T00:00:00Z","2010-11-12T00:00:00Z","2010-12-14T00:00:00Z","2011-05-09T00:00:00Z","2013-01-11T00:00:00Z","2014-02-20T00:00:00Z","2014-04-24T00:00:00Z","2015-01-30T00:00:00Z","2015-12-18T00:00:00Z","2016-01-20T00:00:00Z","2008-11-20T00:00:00Z","2009-05-11T00:00:00Z","2010-01-26T00:00:00Z","2010-03-03T00:00:00Z","2010-11-12T00:00:00Z","2010-12-14T00:00:00Z","2011-05-09T00:00:00Z","2013-01-11T00:00:00Z","2014-12-20T00:00:00Z","2015-01-30T00:00:00Z","2015-12-18T00:00:00Z","2016-01-20T00:00:00Z"],[0,0,0,0,-4.36842,-4.36842,-5.76725,-8.65957,-8.009285999999999,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[60,60,60,60,0.02256,0.02256,0.019866,0.02197,0.02021,10,10,10,10,10,10,100,100,100,100,100,100,100,20,20,20,20,20,20,20,20,20,40,40,40],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,100,100,100,100,null,100,100,100,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],["Rotoehu Buoy 2013-06-27.tpl","Rotoehu Buoy 2014-12.tpl","Rotoehu Buoy 2016-01.tpl","Rotoehu Buoy 2017-06-19.tpl","Rotorua_2014-02.tpl","notes","Rotorua_2014-04.tpl","Rotorua_2015-01.tpl","Rotorua_2015-12.tpl","Rotorua Buoy.tpl","Rotorua Buoy May 09.tpl","Rotorua Buoy Jan10.tpl","Rotorua Buoy 2010-03.tpl","Rotorua buoy Nov10.tpl","Rotorua Buoy 2010-12_1week.tpl","Rotorua Buoy 2011-05.tpl","Rotorua_2013-01-11.tpl","Rotorua_2014-02.tpl","Rotorua_2014-04.tpl","Rotorua_2015-01.tpl","Rotorua_2015-12.tpl","Rotorua_2016-01.tpl","Rotorua Buoy 2008-11.tpl","Rotorua Buoy 2009-05.tpl","Rotorua Buoy 2010-01.tpl","Rotorua Buoy 2010-03.tpl","Rotorua Buoy 2010-11.tpl","Rotorua buoy 1weekDec10.tpl","Rotorua Buoy 2011-05.tpl","Rotorua_2013-01-11.tpl","Rotorua Buoy 2014-02.tpl","Rotorua_2015-01.tpl","Rotorua_2015-12.tpl","Rotorua_2016-01.tpl"],[null,null,null,null,null,"pre-calibration",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"disabled",null,"(turner)","(turner)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>device_id<\/th>\n      <th>date<\/th>\n      <th>offset<\/th>\n      <th>multiplier<\/th>\n      <th>range<\/th>\n      <th>log_multiplier<\/th>\n      <th>source<\/th>\n      <th>comment<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthMenu":[5,10,20],"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[2,3,5]},{"name":"device_id","targets":0},{"name":"date","targets":1},{"name":"offset","targets":2},{"name":"multiplier","targets":3},{"name":"range","targets":4},{"name":"log_multiplier","targets":5},{"name":"source","targets":6},{"name":"comment","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="site-devices" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="site-devices"><span class="header-section-number">2.8</span> Site devices</h2>
<p>The site devices are stored in a CSV file. The file contains the following columns:</p>
<ul>
<li><p><code>site</code>: The site of the device.</p></li>
<li><p><code>device_id</code>: The unique identifier for the device.</p></li>
<li><p><code>date_from</code>: The date the device was installed.</p></li>
<li><p><code>date_to</code>: The date the device was removed.</p></li>
<li><p><code>notes_device</code>: The notes for the device.</p></li>
<li><p><code>notes</code>: The notes for the site.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>site_devices <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"rotorua_data_qc/site_devices.csv"</span>, <span class="at">col_types =</span> <span class="fu">cols</span>())</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>site_devices</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-site-devices" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-site-devices-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7: Site devices.
</figcaption>
<div aria-describedby="tbl-site-devices-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-d2e60353ff954c8d2289" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d2e60353ff954c8d2289">{"x":{"filter":"none","vertical":false,"data":[["f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua"],["sns_Ap_templine_9999","sns_St_tstringds_017","sns_IS_rdopro_379253","sns_ZT_dopto_2378","sns_ZT_dopto_2338","sns_ZT_dopto_9999-rua1","sns_ZT_dopto_2338","sns_CS_isfet_9999-rua","sns_Vs_wxt510_9999-rua1","sns_Vs_wxt510_9999-rua2","sns_Vs_wxt520_9999-rua","sns_Sp_chlor_2779","sns_Sp_chlor_9999-rua","sns_Sp_chlor_2779","sns_TD_c7c_2103928","sns_Tr_microp_1035","sns_Tr_microp_104D","sns_TD_c7p_2103927","wip_ZT_hydwipe_9999-rua"],["2007-07-13T12:00:00Z","2010-02-10T12:00:00Z","2015-10-23T10:00:00Z","2007-07-13T12:00:00Z","2007-07-13T12:00:00Z","2010-11-09T12:15:00Z","2012-04-29T06:09:00Z","2014-02-20T12:00:00Z","2007-07-13T12:00:00Z","2009-05-11T12:00:00Z","2010-11-12T09:00:00Z","2007-07-13T12:00:00Z","2012-07-04T08:00:00Z","2013-04-10T12:00:00Z","2016-02-05T08:00:00Z","2009-02-11T10:00:00Z","2015-01-30T12:00:00Z","2015-09-08T12:00:00Z","2010-02-05T18:15:00Z"],["2010-02-10T12:00:00Z","2025-01-01T00:00:00Z","2022-01-18T04:00:00Z","2015-08-21T12:00:00Z","2010-11-09T12:15:00Z","2012-04-29T06:09:00Z","2022-01-22T13:54:00Z","2018-01-07T12:00:00Z","2009-04-07T12:00:00Z","2010-09-05T12:00:00Z","2022-01-18T04:00:00Z","2012-07-04T08:00:00Z","2013-04-10T12:00:00Z","2016-01-20T11:00:00Z","2022-01-18T04:00:00Z","2014-02-20T00:00:00Z","2015-09-08T11:45:00Z","2022-01-18T04:00:00Z","2022-01-18T04:00:00Z"],["Rotorua (2007 - 2010, broken)","Rotorua @ 2017-07","Rotorua surface @ 2015-09, 2017-09","Rotorua @ 2009-05, Tarawera as 60m deep sensor 2016-05, 2017-04","Rotorua @ 2009-05,  bottom @ 2015-09, 2017-07-12","temporary reacement per notes..serial unknown. Deep DO replaced",null,"rotorua sensor, serial unknown","Rotorua","Rotorua, installed 2009-05-01","Rotorua installed 2010-11-12","Rotorua @ 2009-05, 2011-05, 2017-07","Stand-in sensor for Rotorua, could be overlap with Rotoiti? Not Rotoehu because same time as running..","Rotorua @ 2009-05, 2011-05, 2017-07","Rotorua_f @ 2015-09, 2017-07, Rotorua @ 2024-02","Rotorua @ 2011-05, Rotoehu @ 2015-09, 2016-04, 2017-07","Rotoiti @ 2010-11, Rotorua 2015-01","Rotorua_fixed @ 2015-09, 2017-07, Rotorua profiler @ 2024-02","Rotorua, fitted 2010-02-05"],["original temperature string, +/- 0.1 degC US made","replacement temperature string",null,null,"Not 100% sure this wasn't replaced after 2017, but no notes to that effect",null,null,null,null,null,"until at least 2015 per the uni log file",null,"guessed start date from data","Two fluorometers in as at 2017-07??","Assuming this was in until the end..?",null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>site<\/th>\n      <th>device_id<\/th>\n      <th>date_from<\/th>\n      <th>date_to<\/th>\n      <th>notes_device<\/th>\n      <th>notes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthMenu":[5,10,20],"scrollX":true,"columnDefs":[{"name":"site","targets":0},{"name":"device_id","targets":1},{"name":"date_from","targets":2},{"name":"date_to","targets":3},{"name":"notes_device","targets":4},{"name":"notes","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="site-events" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="site-events"><span class="header-section-number">2.9</span> Site events</h2>
<p>The site events are stored in a CSV file. The file contains the following columns:</p>
<ul>
<li><p><code>site</code>: The site of the event.</p></li>
<li><p><code>date</code>: The date of the event.</p></li>
<li><p><code>site_visit</code>: Was the site visited?</p></li>
<li><p><code>variables</code>: The variables of the event.</p></li>
<li><p><code>action</code>: The action of the event. Can be “deployed”, “removed”, “cleaned”, “rebooted” or “other”.</p></li>
<li><p><code>comment</code>: The comment for the event.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>site_events <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"rotorua_data_qc/site_events.csv"</span>, <span class="at">col_types =</span> <span class="fu">cols</span>())</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>site_events</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-site-events" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-site-events-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;8: Site events.
</figcaption>
<div aria-describedby="tbl-site-events-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-eeaed9a583a87bf303d2" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-eeaed9a583a87bf303d2">{"x":{"filter":"none","vertical":false,"data":[["f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua","f_Rotorua"],["2007-07-13T11:00:00Z","2007-08-29T10:45:00Z","2007-09-07T11:00:00Z","2007-10-31T10:00:00Z","2007-11-26T00:00:00Z","2007-12-20T10:00:00Z","2007-12-29T12:00:00Z","2008-01-17T10:00:00Z","2008-02-29T08:00:00Z","2008-02-29T08:45:00Z","2008-04-12T12:00:00Z","2008-04-30T12:00:00Z","2008-05-13T10:00:00Z","2008-05-20T12:00:00Z","2008-06-11T10:00:00Z","2008-06-19T14:30:00Z","2008-06-19T14:30:00Z","2008-06-20T23:45:00Z","2008-09-26T10:45:00Z","2008-09-26T14:00:00Z","2008-11-12T00:00:00Z","2008-11-21T12:00:00Z","2008-11-22T12:00:00Z","2009-02-11T10:00:00Z","2009-04-06T09:00:00Z","2009-05-11T13:00:00Z","2009-06-12T10:00:00Z","2009-06-14T09:00:00Z","2009-06-17T12:00:00Z","2009-07-07T00:00:00Z","2009-07-16T00:00:00Z","2009-07-17T00:00:00Z","2009-11-09T00:00:00Z","2009-12-02T00:00:00Z","2010-01-13T11:00:00Z","2010-02-05T18:15:00Z","2010-02-05T18:15:00Z","2010-02-05T18:15:00Z","2010-02-10T00:00:00Z","2010-06-03T00:00:00Z","2010-06-22T00:00:00Z","2010-06-22T10:30:00Z","2010-08-02T00:00:00Z","2010-08-12T00:00:00Z","2010-08-12T00:00:00Z","2010-10-06T10:15:00Z","2010-11-01T14:15:00Z","2010-11-01T14:15:00Z","2010-11-09T12:00:00Z","2010-11-09T13:35:00Z","2010-11-09T12:10:00Z","2010-09-05T12:00:00Z","2010-11-12T00:00:00Z","2010-12-02T00:00:00Z","2010-12-20T00:00:00Z","2011-01-23T00:00:00Z","2011-03-17T00:00:00Z","2011-05-04T00:00:00Z","2011-05-12T00:00:00Z","2011-06-29T00:00:00Z","2011-07-26T00:00:00Z","2011-09-08T00:00:00Z","2012-04-20T12:45:00Z","2012-07-04T15:15:00Z","2012-07-04T15:15:00Z","2012-07-07T15:00:00Z","2013-01-01T00:00:00Z","2013-01-11T13:15:00Z","2013-01-11T14:25:00Z","2013-01-11T14:25:00Z","2013-06-18T00:00:00Z","2013-06-25T00:00:00Z","2013-07-30T12:00:00Z","2013-08-24T10:00:00Z","2013-07-18T17:00:00Z","2013-09-06T00:00:00Z","2014-01-12T00:00:00Z","2014-01-14T08:00:00Z","2014-01-15T00:00:00Z","2014-01-21T00:00:00Z","2014-02-20T11:25:00Z","2014-02-20T11:25:00Z","2014-04-24T00:00:00Z","2014-07-12T00:00:00Z","2014-07-19T00:00:00Z","2014-08-28T00:00:00Z","2014-01-18T17:00:00Z","2015-01-23T09:25:00Z","2015-01-23T11:15:00Z","2015-01-23T11:15:00Z","2015-01-23T11:15:00Z","2015-01-30T11:04:00Z","2015-01-30T15:15:00Z","2015-01-30T15:15:00Z","2015-01-30T14:00:00Z","2015-04-10T12:00:00Z","2015-08-12T13:39:00Z","2015-10-23T11:50:00Z","2015-11-19T12:00:00Z","2015-12-18T13:45:00Z","2015-12-18T20:43:00Z","2015-12-18T20:43:00Z","2016-01-20T10:23:00Z","2016-01-20T12:14:00Z","2016-02-05T07:30:00Z","2016-05-10T11:08:00Z","2016-05-10T13:39:00Z","2016-02-05T08:00:00Z","2016-05-10T13:39:00Z","2017-01-24T01:28:00Z","2017-02-24T11:36:00Z","2017-02-24T15:40:00Z","2017-03-03T12:09:00Z","2017-03-03T13:19:00Z","2017-03-03T13:19:00Z","2017-06-29T11:30:00Z","2017-07-26T17:45:00Z","2017-11-07T06:45:00Z","2017-11-12T17:53:44Z","2017-11-16T14:00:00Z","2018-06-28T15:15:00Z","2018-07-18T17:45:00Z","2022-02-02T15:15:00Z"],["TRUE","TRUE","TRUE","TRUE",null,"TRUE","TRUE","TRUE","TRUE","TRUE",null,"?","TRUE","TRUE","TRUE","TRUE","TRUE",null,"TRUE","TRUE","TRUE","TRUE","TRUE","TRUE",null,"TRUE","TRUE",null,"TRUE",null,null,"TRUE",null,"TRUE","TRUE","TRUE","TRUE","TRUE",null,null,"TRUE","TRUE",null,"TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE",null,null,"TRUE","TRUE","TRUE",null,"TRUE",null,"TRUE","TRUE","TRUE",null,"TRUE","TRUE","TRUE","TRUE","TRUE",null,null,"TRUE",null,"TRUE",null,null,null,null,"TRUE","TRUE","TRUE",null,"TRUE","TRUE",null,"TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE",null,null,"TRUE","TRUE",null,"TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE",null,"TRUE","TRUE","TRUE","TRUE"],["all","all","all","all","c_do_d100","all","all","c_do_d100, c_do_sat_d100, c_do_d2000, c_do_sat_d2000","all","all","f_chl","f_chl","all","all","all","all","f_chl","f_chl","all","all","all","all","all","all","met","all","all","all","all","met","all","all","t_wtr","f_chl","all","all","f_chl","f_phyc","t_wtr","all","w_spd, w_dir, c_do_d2000, c_do_sat_d2000","all","all","all","c_do_d2000, c_do_sat_d2000","all","all","f_phyc, c_do_d2000, c_do_sat_d2000","all","all","f_phyc, c_do_d2000, c_do_sat_d2000","w_spd, w_dir","met","t_wtr","t_wtr","f_phyc","t_wtr","all","f_chl","f_chl","all","f_phyc","all","all","f_chl","f_chl","all","all","all","c_do_d2000, c_do_sat_d2000","t_wtr","?","f_phyc, f_chl","f_phyc, f_chl","c_do_d100, c_do_sat_d100","c_do_d100, c_do_sat_d100","f_chl","f_chl","t_wtr","f_phyc","t_wtr, c_ph","f_chl","t_wtr","all","all","t_wtr","t_wtr_d1850","all","all","all","c_do_d100, c_do_sat_d100, c_do_d2000, c_do_sat_d2000","all","all","f_chl","f_chl","f_chl","all","all","f_chl, f_phyc","all","all","f_chl, f_phyc","all","all","f_chl","all","all","f_chl","f_chl","f_chl","all","all","all","all","f_chl","all","all","all","t_wtr_d1850","all","all","all","all"],["deployed","removed","deployed","maintenance","note","removed","deployed","note","maint_start","maint_end","fault_start","fault_end","removed","deployed","removed","deployed","fault_start","fault_end","maint_start","maint_end","removed","deployed","note","maintenance","note","note","maintenance","battery_failed","battery_replaced","note","battery_failed","battery_replaced","note","fault_start","removed","deployed","fault_end","note","note","battery_failed","fault_start","battery_replaced","battery_failed","battery_replaced","fault_end","removed","deployed","fault_start","maint_start","maint_end","fault_end","fault_end","note","note","note","note","note","maintenance","note","note","battery_replaced","note","removed","deployed","fault_start","fault_end","maintenance","maint_start","maint_end","note","note","?","fault_start","fault_end","fault_start","fault_end","note","fault_start","note","note","maintenance","fault_end","note","battery_failed","battery_replaced","note","fault_start","maint_start","maint_end","note","note","maint_start","maint_end","note","fault_start","fault_end","removed","deployed","fault_start","maint_start","maint_end","fault_end","maint_start","maint_end","note","maint_start","maint_end","fault_start","fault_end","fault_start","maint_start","maint_end","maint_start","maint_end","fault_end","removed","deployed","removed","fault_end","deployed","removed","deployed","removed"],["Deployment","Removal","Reinstallation","sensors cleaned?","intermittent","Sensors removed for DO repair","Sensors returned, DO calibrated, optical windows cleaned","DO calibrated","on-site maintenance","on-site maintenance","chl not working","chl fixed",null,"Deep DO removed","Sensors removed for deep DO installation",null,"sensor not working/peaking","senosr working again","on-site maintenance","on-site maintenance",null,"Optical windows cleaned, DO calibrated","Buoy rotated 90 degrees","Sensors cleaned, phycocyanin installed","Weather station faulty","Weather station replaced, DO calibrated, Fluorometer calibrated, all sensors cleaned","Sensors cleaned, plug incorrectly fitted, no power or weather data","Battery failure","Battery replaced, all sensors cleaned and functional","Tower plug worked loose, no weather data","Battery failure","Battery replaced","Bottom temperature node faulty","Seapoint chlorophyll removed for wiper fitting","Buoy removed for wiper installation and troubleshooting","Buoy returned","wiper fitted to remaining fluorometers","wiper fitted to remaining fluorometers","Temp string completely failed","Battery failure","Wind sensors and deep DO are faulty","Battery replaced","Battery failure","10W panel fitted","deep DO revived","Buoy removed for maintenance","Sensors cleaned","phycocyanin and deep DO faulty","on-site maintenance","on-site maintenance","Deep DO replaced, phycocyanin working again","met station replaced","Weather station replaced with Vaisala WXT520, sensors cleaned","Temporary HOBO loggers fitted in place of absent thermistor string","Temp string becomes intermittent","f_phyc faulty","Replacement thermistor string fitted, sensors cleaned",null,"Chlorophyll re-ranged, all readings above 50 RFU cut off/out of range (NOTE 2025-04; data don't support this note?)","?no issues in data or evidence of any changes?","Battery replaced","Phycocyanin sensor dead","Buoy removed for repair following collision with BoP boat","Buoy reinstalled","sensor not working","working again","cleaning","on-site maintenance","on-site maintenance","bottom DO sensor replaced. (2025; to original senosr?)","Attached HOBOs to temp string at node 12.5 m. Cleaned",null,"fluorometers not working","fluorometers not working","fouling begins to ruin readings","surface DO heavily fouled","f_chl Unplugged? Not working","chl not working, signal tapers away to zero","Temp string failed","f_phyc faulty","Removed temp string, attached HOBO's, Chl fixed","chl working again/fixed","Reinstalled repaired temp string",null,null,"HOBO's removed, sensors cleaned","18.5m temp node faulty",null,null,"Removed pH, cleaned sensors, calibrated DO. Surface sensors very dirty","looks like DO senosrs were calibrated","on-site maintenance","on-site maintenance","values become much larger/unreliable?","Used  data to add","sensor working again",null,null,"fluorometer biofouling (wiper stopped)","on-site maintenance","on-site maintenance","wiper fixed during maintenance, sensors cleaned","on-site maintenance","on-site maintenance","chlorophyll sensor gain change and now out-of-range","on-site maintenance","on-site maintenance","Used  data to add","range corrected during site visit","sensor stopped working/wasfloating at input","on-site maintenance","on-site maintenance","on-site maintenance","on-site maintenance","chl sensor working again after maintenance","Buoy removed for maintenance","Buoy reinstalled","Buoy removed for maintenance","Taken from data","Buoy reinstalled","Buoy removed for maintenance","Buoy reinstalled","Buoy removed, data taken from dataset"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>site<\/th>\n      <th>date<\/th>\n      <th>site_visit<\/th>\n      <th>variables<\/th>\n      <th>action<\/th>\n      <th>comments<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthMenu":[5,10,20],"scrollX":true,"columnDefs":[{"name":"site","targets":0},{"name":"date","targets":1},{"name":"site_visit","targets":2},{"name":"variables","targets":3},{"name":"action","targets":4},{"name":"comments","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="sites" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="sites"><span class="header-section-number">2.10</span> Sites</h2>
<p>The sites are stored in a CSV file. The file contains the following columns:</p>
<ul>
<li><p><code>site</code>: The site of the device.</p></li>
<li><p><code>location</code>: The location of the site.</p></li>
<li><p><code>type</code>: The type of site. Can be “lake”, “river” or “other”.</p></li>
<li><p><code>customer</code>: The customer of the site.</p></li>
<li><p><code>lon</code>: The longitude of the site.</p></li>
<li><p><code>lat</code>: The latitude of the site.</p></li>
<li><p><code>elev</code>: The elevation of the site.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sites <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"rotorua_data_qc/sites.csv"</span>, <span class="at">col_types =</span> <span class="fu">cols</span>())</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>sites</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-sites" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-sites-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9: Sites.
</figcaption>
<div aria-describedby="tbl-sites-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-905c1c3b38a31d846e22" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-905c1c3b38a31d846e22">{"x":{"filter":"none","vertical":false,"data":[["f_Rotorua"],["Rotorua"],["Fixed"],["BoPRC"],[176.2736111111111],[-38.07333333333334],[285]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>site<\/th>\n      <th>location<\/th>\n      <th>type<\/th>\n      <th>customer<\/th>\n      <th>lon<\/th>\n      <th>lat<\/th>\n      <th>elev<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthMenu":[5,10,20],"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[4,5,6]},{"name":"site","targets":0},{"name":"location","targets":1},{"name":"type","targets":2},{"name":"customer","targets":3},{"name":"lon","targets":4},{"name":"lat","targets":5},{"name":"elev","targets":6}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="variables" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="variables"><span class="header-section-number">2.11</span> Variables</h2>
<p>The variables are stored in a CSV file. The file contains the following columns:</p>
<ul>
<li><code>var_abbr</code>: The variable abbreviation. This is the short name for the variable.</li>
<li><code>full_text</code>: The full text of the variable. This is the long name for the variable.</li>
<li><code>parsed</code>: The parsed name of the variable. This is the name used for plotting.</li>
<li><code>label</code>: The label of the variable. This is the name used for the legend.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>variables <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"rotorua_data_qc/variables.csv"</span>, <span class="at">col_types =</span> <span class="fu">cols</span>())</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>variables</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div id="tbl-variables" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-variables-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;10: Variables.
</figcaption>
<div aria-describedby="tbl-variables-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-62f4c2f7b0daa1bebac7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-62f4c2f7b0daa1bebac7">{"x":{"filter":"none","vertical":false,"data":[["met","met","met","met","met","met","met","met","met","wq","wq","wq","wq","wq","wq","wq","wq","wq","wq","wq","wq","wq","wq","wq","wq","wq","wq","wq","wq","ind","pro","pro"],["h_rh","pr_baro","r_clrsky","r_swd","t_air","w_dir","w_gust","w_spd","pp_rain","r_par","c_cond","c_cond_sp","c_salinity","c_do","c_do_sat","c_orp","c_pco2","c_ph","c_ph_raw","f_chl","f_chl_raw_v","f_phyc","f_phyc_raw_v","f_tryp","f_dom","n_turb","pr_dpt","p_dpt_raw","t_wtr","s_trout","t_wcdiff","d_wc"],["relative_humidity_%","barometric_pressure_hPa","cleasky_shortwave_radiation_W/m^2","shortwave_radiation_W/m^2","air_temperature_degC","wind_direction_deg","wind_gust_m/s","wind_speed_kts","rainfall_mm/hour","photosynthetically_active_radiation_(umol/m^-2/s^-1)","conductivity_ÂµS/cm","specific_conductance_ÂµS/cm","Salinity","dissolved_oxygen_mg/L","dissolved_oxygen_%","oxidation_reduction_potential_mV","pCO2_ppm","pH","pH_raw","chlorophyll_fluorescence_RCFU","chlorophyll_raw_V","phycocyanin_fluorescence_RPFU","phycocyanin_fluorescence_V","tryptophan_fluorescence_RFU","DOM_fluorescence_RFU","turbidity_FNU","sensor_depth_m","sensor_depth_uncompensated_m","water_temperature_degC","trout_stress_index","water_temperature_difference_degC","depth_water_column_m"],["Relative~humidity~(\"%\")","Barometric~pressure~(hPa)","Clearsky~shortwave~radiation~(W~m^-2)","Shortwave~radiation~(W~m^-2)","Air~temperature~(degree*C)","Wind~direction~(degree*)","Wind~gust~(m~s^-1)","Wind~speed~(kts)","Rainfall~(mm~hr^-1)","PAR_(umol~m^-2~s^-1)","Conductivity~(ÂµS~cm^-1)","Specific~conductance~(ÂµS~cm^-1)","Salinity","Dissolved~oxygen~(mg~L^-1)","Dissolved~oxygen~(\"%\")","ORP~(mv)","pCO2~(ppm)","pH","pH raw","Chlorophyll~(RCFU)","Chlorophyll raw~(V)","Phycocyanin~(RPFU)","Phycocyanin~(V)","Tryptophan~(RFU)","fDOM~(RFU)","Turbidity~(FNU)","Sensor~depth~(m)","Sensor~depth~raw~(m)","Water~temperature~(degree*C)","Trout~stress","Water~temperature~difference~(degree*C)","Water~column~depth~(m)"],["Relative humidity (%)","Barometric pressure (hPa)","Clearsky shortwave radiation (W/m²)","Shortwave radiation (W/m²)","Air temperature (°C)","Wind direction (°)","Wind gust (m/s)","Wind speed (kts)","Rainfall (mm/hr)","PAR_(umol/m2/s)","Conductivity (µS/cm)","Specific conductance (µS/cm)","Salinity","Dissolved oxygen (mg/L)","Dissolved oxygen (%)","ORP (mv)","pCO2 (ppm)","pH","pH raw","Chlorophyll (RCFU)","Chlorophyll raw (V)","Phycocyanin (RPFU)","Phycocyanin (V)","Tryptophan (RFU)","fDOM (RFU)","Turbidity (FNU)","Sensor depth (m)","Sensor depth raw (m)","Water temperature (°C)","Trout stress Index","Water temperature difference (°C)","Water column depth (m)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>type<\/th>\n      <th>abbr<\/th>\n      <th>full_text<\/th>\n      <th>parsed<\/th>\n      <th>label<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthMenu":[5,10,20],"scrollX":true,"columnDefs":[{"name":"type","targets":0},{"name":"abbr","targets":1},{"name":"full_text","targets":2},{"name":"parsed","targets":3},{"name":"label","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/limnotrack\.github\.io\/f_rotorua\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>